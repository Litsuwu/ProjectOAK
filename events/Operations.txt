add_namespace = operation

country_event = {
	id = operation.520
	title = operation.520.t
	desc = operation.520.d
	picture = GFX_...
	
	fire_only_once = yes

	trigger = {
		tag = SOV
		has_war_with = GER
		is_ai = yes
		surrender_progress > 0.25
	}

	option = {
	    load_oob = "SOV_proletariat"
	}
}
country_event = {
	id = operation.521
	title = operation.521.t
	desc = operation.521.d
	picture = GFX_...
	
	fire_only_once = yes
    hidden = yes
	mean_time_to_happen = {
	days = 2
	}
	trigger = {
		tag = SOV
		has_war_with = GER
		has_army_experience > 50
		has_idea = Disorganized_Red_Army_1
		OR  = {
			surrender_progress > 0.225
            casualties > 500000
			}
	}
    immediate = {
	load_oob = "SOV_proletariat"
	army_experience = -50
			swap_ideas = {
				remove_idea = Disorganized_Red_Army_1
				add_idea = Disorganized_Red_Army_2
			}
	
	}
	option = {
	    country_event = { hours = 3 id = news.445 }
	}
}
country_event = {
	id = operation.522
	title = operation.522.t
	desc = operation.522.d
	picture = GFX_...
	
	fire_only_once = yes
    hidden = yes
	mean_time_to_happen = {
	days = 2
	}
	trigger = {
		tag = SOV
		has_war_with = GER
		has_army_experience > 50
		has_idea = Disorganized_Red_Army_2
		OR  = {
			surrender_progress > 0.25
            casualties > 1000000
			}
	}

	immediate = {
	load_oob = "SOV_proletariat"
	army_experience = -50
			swap_ideas = {
				remove_idea = Disorganized_Red_Army_2
				add_idea = Disorganized_Red_Army_3
			}
	}
	option = {
	    country_event = { hours = 3 id = news.445 }
	}
}
country_event = {
	id = operation.523
	title = operation.523.t
	desc = operation.523.d
	picture = GFX_...
	
	fire_only_once = yes
    hidden = yes
	mean_time_to_happen = {
	days = 2
	}
	trigger = {
		tag = SOV
		has_war_with = GER
		has_army_experience > 50
		has_idea = Disorganized_Red_Army_3
		OR  = {
			surrender_progress > 0.3
            casualties > 1500000
			}
	}

	immediate = {
	load_oob = "SOV_proletariat"
	army_experience = -50
			swap_ideas = {
				remove_idea = Disorganized_Red_Army_3
				add_idea = Disorganized_Red_Army_4
			}
	}
	option = {
	    country_event = { hours = 3 id = news.445 }
	}
}
country_event = {
	id = operation.524
	title = operation.524.t
	desc = operation.524.d
	picture = GFX_...
	
	fire_only_once = yes
    hidden = yes
	mean_time_to_happen = {
	days = 2
	}
	trigger = {
		tag = SOV
		has_war_with = GER
		has_army_experience > 50
		has_idea = Disorganized_Red_Army_4
		OR  = {
			surrender_progress > 0.35
            casualties > 2000000
			}
	}

	immediate = {
	load_oob = "SOV_proletariat"
	army_experience = -50
			swap_ideas = {
				remove_idea = Disorganized_Red_Army_4
				add_idea = Disorganized_Red_Army_5
			}
	}
	option = {
	    country_event = { hours = 3 id = news.445 }
	}
}
country_event = {
	id = operation.525
	title = operation.525.t
	desc = operation.525.d
	picture = GFX_...
	
	fire_only_once = yes
    hidden = yes
	mean_time_to_happen = {
	days = 2
	}
	trigger = {
		tag = SOV
		has_war_with = GER
		has_army_experience > 50
		has_idea = Disorganized_Red_Army_5
		OR  = {
			surrender_progress > 0.40
            casualties > 2500000
			}
	}

	immediate = {
	load_oob = "SOV_proletariat"
	load_oob = SOV_guards_divs	
	add_tech_bonus = {
				name = armor_bonus
				bonus = 0.25
				category = land_doctrine
			}
			army_experience = -50
			if = { limit = { has_idea = Disorganized_Red_Army_5 } remove_ideas = Disorganized_Red_army_5 }
			
	}
	option = {
	    country_event = { hours = 3 id = news.448 }
		
	}
}
country_event = {
	id = operation.71
	title = operation.71.t
	desc = operation.71.d
	picture = GFX_report_event_military_planning
	
	is_triggered_only = yes
	
	
	option = {
		name = operation.71.a
		hidden_effect = {
			#add_timed_idea = {
			#	idea = Blitz_I
			#	days = 365
			#}
			add_timed_idea = {
				idea = Blitz_II
				days = 80
			}
			#add_timed_idea = {
			#	idea = Blitz_III
			#	days = 90
			#}
		}
	}
	

}
# Weserubung AI#
country_event = {
	id = operation.80
	title = operation.80.t
	desc = operation.80.d
	picture = GFX_report_event_altmark_incident
	
	fire_only_once = yes

	trigger = {
		tag = GER
		GER = { is_ai = yes }
		country_exists = DEN
		country_exists = NOR
		has_war_with = NOR
		NOT = {is_in_faction_with = NOR }
		NOT = {is_in_faction_with = DEN }
		POL = {
				NOT = { controls_state = 85 }
				NOT = { controls_state = 10 }	
			}
		controls_state = 99 # jutland
	    controls_state = 37 # denmark

	}
		
	option = {
		name = operation.80.a
		hidden_effect = {
		load_oob = "GER_invade_Norway"
		}
	}
}

## French
country_event = {
	id = operation.90
	title = operation.90.t
	desc = operation.90.d
	picture = GFX_report_event_worried_french
	
	fire_only_once = yes

	trigger = {
		tag = FRA	
		has_war_with = GER 
	}
	
	
	option = {
		name = operation.90.a
		if = { limit = { GER = { is_ai = yes } }
			add_timed_idea = {
				idea = French_Malaise
				days = 1100
			}
		}
		else = {
		        add_timed_idea = {
				idea = French_Malaise
				days = 500
			}
		}
	
	}
}
## Britain Sea lion defense
country_event = {
	id = operation.100
	title = operation.100.t
	desc = operation.100.d
	picture = GFX_report_event_soldiers_in_france
	
	fire_only_once = yes

	trigger = {
		tag = ENG
		has_government = democratic
		has_war_with = GER
		OR = {
		   OR = {
				GER = { has_full_control_of_state = 127 }
				any_other_country = {
					is_in_faction_with = GER
					has_full_control_of_state = 127
				}
			}
			OR = {
				GER = { has_full_control_of_state = 123 }
				any_other_country = {
					is_in_faction_with = GER
					has_full_control_of_state = 123
				}
			}
			OR = {
				GER = { has_full_control_of_state = 131 }
				any_other_country = {
					is_in_faction_with = GER
					has_full_control_of_state = 131
				}
			}
			OR = {
				GER = { has_full_control_of_state = 126 }
				any_other_country = {
					is_in_faction_with = GER
					has_full_control_of_state = 126
				}
			}
			OR = {
				GER = { has_full_control_of_state = 125 }
				any_other_country = {
					is_in_faction_with = GER
					has_full_control_of_state = 125
				}
			}
			OR = {
				GER = { has_full_control_of_state = 128 }
				any_other_country = {
					is_in_faction_with = GER
					has_full_control_of_state = 128
				}
			}
			OR = {
				GER = { has_full_control_of_state = 338 }
				any_other_country = {
					is_in_faction_with = GER
					has_full_control_of_state = 338
				}
			}
			OR = {
				GER = { has_full_control_of_state = 129 }
				any_other_country = {
					is_in_faction_with = GER
					has_full_control_of_state = 129
				}
			}
			OR = {
				GER = { has_full_control_of_state = 122 }
				any_other_country = {
					is_in_faction_with = GER
					has_full_control_of_state = 122
				}
			}
			OR = {
				GER = { has_full_control_of_state = 130 }
				any_other_country = {
					is_in_faction_with = GER
					has_full_control_of_state = 130
				}
			}
			OR = {
				GER = { has_full_control_of_state = 132 }
				any_other_country = {
					is_in_faction_with = GER
					has_full_control_of_state = 132
				}
			}
			OR = {
				GER = { has_full_control_of_state = 121 }
				any_other_country = {
					is_in_faction_with = GER
					has_full_control_of_state = 121
				}
			}
			OR = {
				GER = { has_full_control_of_state = 133 }
				any_other_country = {
					is_in_faction_with = GER
					has_full_control_of_state = 133
				}
			}
			OR = {
				GER = { has_full_control_of_state = 136 }
				any_other_country = {
					is_in_faction_with = GER
					has_full_control_of_state = 136
				}
			}
			OR = {
				GER = { has_full_control_of_state = 120 }
				any_other_country = {
					is_in_faction_with = GER
					has_full_control_of_state = 120
				}
			}
			OR = {
				GER = { has_full_control_of_state = 119 }
				any_other_country = {
					is_in_faction_with = GER
					has_full_control_of_state = 119
				}
			}
		}
	}
		
	option = {
		name = operation.100.a
		    load_oob = "ENG_def_sealion"
			add_timed_idea = {
				idea = fight_them_on_the_shores
				days = 180
			}
			
			if = {
				limit = { USA = { NOT = { has_war_with = GER } NOT = { is_in_faction_with = ENG } has_government = democratic } } 
				USA = { country_event = generic.5 }
				
		    }
			
			news_event = { hours = 4 id = news.3135 }
		}	
			
}
