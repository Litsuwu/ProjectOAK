#Category only allowed for GER
GER_mefo_bills_category = {

	GER_mefo_bills_mission = {

		allowed = { always = no }

		icon = ger_mefo_bills

		available = {
			NOT = { has_government = democratic }
			GER_can_delay_mefo_payment = yes
			has_political_power > 0
		}

		#cost = GER_mefo_bill_counter?10

		selectable_mission = yes
		days_mission_timeout = 180
		is_good = no
		fire_only_once = yes

		cancel_trigger = {
			hidden_trigger = {
				OR = {
					NOT = { GER_has_mefo_bills = yes }
					has_idea = GER_mefo_bills_ended
				}
			}
		}

		days_remove = GER_extend_mefo_bills_days?0
		remove_effect = {
			GER_mefo_bills_level_up = yes
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 15 compare = less_than }
				}
				set_variable = { var = GER_mefo_bill_counter value = 10 }
			}
			add_to_variable = { var = GER_mefo_bill_counter value = 5 }

			hidden_effect = {
				activate_mission = GER_mefo_bills_mission
			}
		}

		complete_effect = {
			custom_effect_tooltip = GER_mefo_bills_mission_tt
			custom_effect_tooltip = GER_mefo_bills_effect_in_days
			effect_tooltip = {
				GER_mefo_bills_level_up = yes
			}
			hidden_effect = {
				set_variable = { GER_extend_mefo_bills_days = days_mission_timeout@GER_mefo_bills_mission }
			}
		}

		timeout_effect = {
			GER_remove_mefo_bills = yes
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 15 compare = less_than }
				}
				add_political_power = -20
				add_timed_idea = { idea = GER_mefo_bills_ended days = 60 }
			}
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 15 compare = equals }
				}
				add_political_power = -30
				add_timed_idea = { idea = GER_mefo_bills_ended days = 70 }
			}
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 20 compare = equals }
				}
				add_political_power = -40
				add_timed_idea = { idea = GER_mefo_bills_ended days = 80 }
			}
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 25 compare = equals }
				}
				add_political_power = -50
				add_timed_idea = { idea = GER_mefo_bills_ended days = 90 }
			}
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 30 compare = equals }
				}
				add_political_power = -60
				add_timed_idea = { idea = GER_mefo_bills_ended days = 100 }
			}
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 35 compare = equals }
				}
				add_political_power = -70
				add_timed_idea = { idea = GER_mefo_bills_ended days = 110 }
			}
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 40 compare = equals }
				}
				add_political_power = -80
				add_timed_idea = { idea = GER_mefo_bills_ended days = 120 }
			}
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 45 compare = equals }
				}
				add_political_power = -90
				add_timed_idea = { idea = GER_mefo_bills_ended days = 130 }
			}
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 50 compare = equals }
				}
				add_political_power = -100
				add_timed_idea = { idea = GER_mefo_bills_ended days = 140 }
			}
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 55 compare = equals }
				}
				add_political_power = -110
				add_timed_idea = { idea = GER_mefo_bills_ended days = 150 }
			}
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 60 compare = equals }
				}
				add_political_power = -120
				add_timed_idea = { idea = GER_mefo_bills_ended days = 160 }
			}
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 65 compare = equals }
				}
				add_political_power = -130
				add_timed_idea = { idea = GER_mefo_bills_ended days = 170 }
			}
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 70 compare = equals }
				}
				add_political_power = -140
				add_timed_idea = { idea = GER_mefo_bills_ended days = 180 }
			}
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 75 compare = equals }
				}
				add_political_power = -150
				add_timed_idea = { idea = GER_mefo_bills_ended days = 190 }
			}
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 80 compare = equals }
				}
				add_political_power = -160
				add_timed_idea = { idea = GER_mefo_bills_ended days = 200 }
			}
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 85 compare = equals }
				}
				add_political_power = -170
				add_timed_idea = { idea = GER_mefo_bills_ended days = 210 }
			}
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 90 compare = equals }
				}
				add_political_power = -180
				add_timed_idea = { idea = GER_mefo_bills_ended days = 220 }
			}
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 95 compare = equals }
				}
				add_political_power = -190
				add_timed_idea = { idea = GER_mefo_bills_ended days = 230 }
			}
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 100 compare = equals }
				}
				add_political_power = -200
				add_timed_idea = { idea = GER_mefo_bills_ended days = 240 }
			}
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 105 compare = equals }
				}
				add_political_power = -210
				add_timed_idea = { idea = GER_mefo_bills_ended days = 250 }
			}
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 110 compare = equals }
				}
				add_political_power = -220
				add_timed_idea = { idea = GER_mefo_bills_ended days = 260 }
			}
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 115 compare = equals }
				}
				add_political_power = -230
				add_timed_idea = { idea = GER_mefo_bills_ended days = 270 }
			}
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 115 compare = greater_than }
				}
				add_political_power = -240
				add_timed_idea = { idea = GER_mefo_bills_ended days = 280 }
			}			
		}

		ai_will_do = {
			factor = 200
		}
	}
}

operations = {

	GER_war_with_usa = {
         fire_only_once = yes
		icon = generic_operation

		allowed = {
			tag =  GER
		}
		visible ={
			has_war = yes
		}
		available = {
			has_war_with = USA
		}
		cost = 25
		ai_will_do = {
			factor = 10
		}
		complete_effect = {
			add_war_support = 0.05
			if = { limit = { is_ai = no } 
				
			}
		}
	}



	GER_barbarossa_mission = {

		icon = generic_operation

		allowed = {
			always = no
			#added through on_action
		}

		available = {
			219 = { is_controlled_by_ROOT_or_ally = yes }
			195 = { is_controlled_by_ROOT_or_ally = yes }
			202 = { is_controlled_by_ROOT_or_ally = yes }
			217 = { is_controlled_by_ROOT_or_ally = yes }
		}

		days_mission_timeout = 180
		fire_only_once = yes

		activation = {

		}

		is_good = no

		complete_effect = {
			add_war_support = 0.05
			custom_effect_tooltip = barbarossa_mission_tt
		}

		timeout_effect = {
			
		}

		ai_will_do = {
			factor = 1
		}
	}
	summer_offensive_I_decision = { 
	
	available = {
		tag = GER
		has_war_with = SOV
		
		AND = { date > 1942.05.01 date < 1942.08.01 } 
		
		# german advance check
		SOV = { controls_state = 219 } # controls moscow 
		GER = { controls_state = 64 }
		GER = { controls_state = 64 }
		GER = { controls_state = 16 }
		GER = { controls_state = 6 }
		GER = { controls_state = 7 }
		GER = { controls_state = 37 }
		GER = { controls_state = 10 }
		ITA = { controls_state = 2 }
		OR = {
				GER = { controls_state = 43 }
				any_other_country = {
				is_in_faction_with = GER
				controls_state = 43
				}
			}
		OR = {
				GER = { controls_state = 46 }
				any_other_country = {
				is_in_faction_with = GER
				controls_state = 46
				}
			}	
		}
    
	visible = {
	        has_war_with = SOV
		    AND = { date > 1942.03.01 date < 1942.08.01 } 
	}
	
	icon = generic_scorched_earth

		cost = 0
		ai_will_do = {
			factor = 100
		}	
		fire_only_once = yes
	
	complete_effect = { 
		
	   	add_timed_idea = {
				idea = Blau_I
				days = 120
		}
		
		
		news_event = { hours = 20 id = news.3145 }
		set_country_flag = GERsummeroffensive1
     }
    }
	
	summer_offensive_II_decision = { 
	
	available = {
		tag = GER
		has_war_with = SOV
		
		 AND = { date > 1943.05.01 date < 1943.08.01 }
		NOT = { has_idea = Blau_I }
		
		has_country_flag = GERsummeroffensive1
		# german advance check
		SOV = { controls_state = 219 } # controls moscow 
		GER = { controls_state = 64 }
		GER = { controls_state = 64 }
		GER = { controls_state = 16 }
		GER = { controls_state = 6 }
		GER = { controls_state = 7 }
		GER = { controls_state = 37 }
		GER = { controls_state = 10 }
		ITA = { controls_state = 2 }
		OR = {
				GER = { controls_state = 43 }
				any_other_country = {
				is_in_faction_with = GER
				controls_state = 43
				}
			}
		OR = {
				GER = { controls_state = 46 }
				any_other_country = {
				is_in_faction_with = GER
				controls_state = 46
				}
			}	
		
    }
	visible = {
	        has_war_with = SOV
		    AND = { date > 1943.03.01 date < 1943.08.01 }
	}
	icon = generic_scorched_earth

		cost = 0
		ai_will_do = {
			factor = 100
		}	
		fire_only_once = yes
	
	complete_effect = { 
		
	   	add_timed_idea = {
				idea = Blau_I
				days = 120
		}
		
		
		news_event = { hours = 20 id = news.3145 }
		set_country_flag = GERsummeroffensive2
		
     }
    }
	
	summer_offensive_III_decision = { 
	
	available = {
		tag = GER
		has_war_with = SOV
		
		AND = { date > 1944.05.01 date < 1944.08.01 } 
		NOT = { has_idea = Blau_I }
		
		has_country_flag = GERsummeroffensive2
		# german advance check
		SOV = { controls_state = 219 } # controls moscow 
		GER = { controls_state = 64 }
		GER = { controls_state = 64 }
		GER = { controls_state = 16 }
		GER = { controls_state = 6 }
		GER = { controls_state = 7 }
		GER = { controls_state = 37 }
		GER = { controls_state = 10 }
		ITA = { controls_state = 2 }
		OR = {
				GER = { controls_state = 43 }
				any_other_country = {
				is_in_faction_with = GER
				controls_state = 43
				}
			}
		OR = {
				GER = { controls_state = 46 }
				any_other_country = {
				is_in_faction_with = GER
				controls_state = 46
				}
			}	
	}

	visible = {
	        has_war_with = SOV
		    AND = { date > 1944.03.01 date < 1944.08.01 }
	}
	icon = generic_scorched_earth

		cost = 0
		ai_will_do = {
			factor = 100
		}	
		fire_only_once = yes
	
	complete_effect = { 
		
	   	add_timed_idea = {
				idea = Blau_I
				days = 120
		}
		
		news_event = { hours = 20 id = news.3145 }
		set_country_flag = GERsummeroffensive3
     }
    }
	
	summer_offensive_IV_decision = { 
	
	available = {
		tag = GER
		has_war_with = SOV
		
		AND = { date > 1945.05.01 date < 1945.08.01 }   
		NOT = { has_idea = Blau_I }
		
		has_country_flag = GERsummeroffensive3
		# german advance check
		SOV = { controls_state = 219 } # controls moscow 
		GER = { controls_state = 64 }
		GER = { controls_state = 64 }
		GER = { controls_state = 16 }
		GER = { controls_state = 6 }
		GER = { controls_state = 7 }
		GER = { controls_state = 37 }
		GER = { controls_state = 10 }
		ITA = { controls_state = 2 }
		OR = {
				GER = { controls_state = 43 }
				any_other_country = {
				is_in_faction_with = GER
				controls_state = 43
				}
			}
		OR = {
				GER = { controls_state = 46 }
				any_other_country = {
				is_in_faction_with = GER
				controls_state = 46
				}
			}	
		}
    
	visible = {
	        has_war_with = SOV
		    AND = { date > 1945.03.01 date < 1945.08.01 } 
	}
	icon = generic_scorched_earth

		cost = 0
		ai_will_do = {
			factor = 100
		}	
		fire_only_once = yes
	
	complete_effect = { 
		
	   	add_timed_idea = {
				idea = Blau_I
				days = 120
		}
		
		news_event = { hours = 20 id = news.3145 }
		set_country_flag = GERsummeroffensive4
     }
    }
	
	summer_offensive_V_decision = { 
	
	available = {
		tag = GER
		has_war_with = SOV
		
		AND = { date > 1946.05.01 date < 1946.08.01 }
		NOT = { has_idea = Blau_I }
		
		has_country_flag = GERsummeroffensive4
		# german advance check
		SOV = { controls_state = 219 } # controls moscow 
		GER = { controls_state = 64 }
		GER = { controls_state = 64 }
		GER = { controls_state = 16 }
		GER = { controls_state = 6 }
		GER = { controls_state = 7 }
		GER = { controls_state = 37 }
		GER = { controls_state = 10 }
		ITA = { controls_state = 2 }
		OR = {
				GER = { controls_state = 43 }
				any_other_country = {
				is_in_faction_with = GER
				controls_state = 43
				}
			}
		OR = {
				GER = { controls_state = 46 }
				any_other_country = {
				is_in_faction_with = GER
				controls_state = 46
				}
			}	
		}

	visible = {
	        has_war_with = SOV
		    AND = { date > 1946.03.01 date < 1946.08.01 }
	}
	icon = generic_scorched_earth

		cost = 0
		ai_will_do = {
			factor = 100
		}	
		fire_only_once = yes
	
	complete_effect = { 
		
	   	add_timed_idea = {
				idea = Blau_I
				days = 120
		}
		
		news_event = { hours = 20 id = news.3145 }
		set_country_flag = GERsummeroffensive5
     }
    }
}

GER_case_anton_category = {

	GER_case_anton = {

		icon = generic_operation

		available = {
			original_tag = GER
			has_government = fascism
			any_country = {
				original_tag = FRA
				has_government = fascism
				is_puppet_of = GER
				NOT = { has_country_flag = case_anton }
			}
			divisions_in_state = { state = 31 size < 1 }
			divisions_in_state = { state = 25 size < 1 }
			divisions_in_state = { state = 22 size < 1 }
			divisions_in_state = { state = 21 size < 1 }
			divisions_in_state = { state = 32 size < 1 }
			divisions_in_state = { state = 22 size < 1 }
			divisions_in_state = { state = 26 size < 1 }
			divisions_in_state = { state = 33 size < 1 }
			divisions_in_state = { state = 20 size < 1 }
			OR = {
				ITA = { owns_state = 735 }
				divisions_in_state = { state = 735 size < 1 }
			}
			date > 1940.6.1
		}

		cost = 50
		fire_only_once = yes

		visible = {
			original_tag = GER
			has_government = fascism
			any_country = {
				original_tag = FRA
				has_government = fascism
				is_subject_of = GER
			}
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				ITA = { has_capitulated = no }
			}
		}
		complete_effect = {
			custom_effect_tooltip = GER_case_anton_tt
			hidden_effect = {
				random_other_country = {
					limit = {
						original_tag = FRA
						has_government = fascism
						is_subject_of = GER
					}
					set_country_flag = case_anton
				}
			}
		}
	}
}

#Category only allowed for GER
GER_reichskommissariats = {
	GER_reichskommissariat_norwegen = {

		icon = ger_reichskommissariats

		available = {
			has_completed_focus = GER_form_the_reichskommissariats
			has_government = fascism
			controls_state = 110
			controls_state = 142
			controls_state = 143
			controls_state = 144
		}

		cost = 20
		ai_will_do = {
			factor = 0
			modifier = {
				add = 1
				ENG = { has_capitulated = yes }
			}
		}

		visible = {
			has_completed_focus = GER_form_the_reichskommissariats
			has_government = fascism
		}

		complete_effect = {
			if = {
				limit = {
					country_exists = NOR
				}
				hidden_effect = {
					NOR = {
						set_state_controller = 110
						set_state_controller = 142
						set_state_controller = 143
						set_state_controller = 144
					}
				}
				NOR = {
					start_civil_war = { ideology = fascism size = 1 }
				}
				random_country = {
					limit= {
						original_tag = NOR
						has_government = fascism
					}
					transfer_state = 110
					transfer_state = 142
					transfer_state = 143
					transfer_state = 144
					GER = {
						puppet = PREV
						set_autonomy = { target = PREV autonomy_state = autonomy_integrated_puppet }
					}
					set_cosmetic_tag = NOR_reichskommissariat
					create_country_leader = {
						name = "Josef Terboven"
						desc = "POLITICS_JOSEF_TERBOVEN_DESC"
						picture = "gfx/leaders/Europe/Portrait_Europe_Generic_5.dds"
						expire = "1965.1.1"
						ideology = nazism
						traits = {
						}
					}
				}
			}
			else = {
				NOR = {
					transfer_state = 110
					transfer_state = 142
					transfer_state = 143
					transfer_state = 144
					set_cosmetic_tag = NOR_reichskommissariat
					create_country_leader = {
						name = "Josef Terboven"
						desc = "POLITICS_JOSEF_TERBOVEN_DESC"
						picture = "gfx/leaders/Europe/Portrait_Europe_Generic_5.dds"
						expire = "1965.1.1"
						ideology = nazism
						traits = {
						}
					}
				}
				set_autonomy = { target = NOR autonomy_state = autonomy_integrated_puppet }
			}
		}
	}

	GER_reichskommissariat_niederlande = {

		icon = ger_reichskommissariats

		available = {
			has_completed_focus = GER_form_the_reichskommissariats
			has_government = fascism
			controls_state = 7
			controls_state = 35
			controls_state = 36
		}

		cost = 0

		ai_will_do = {
			factor = 0
			modifier = {
				add = 1
				ENG = { has_capitulated = yes }
			}
		}

		visible = {
			has_completed_focus = GER_form_the_reichskommissariats
			has_government = fascism
		}

		complete_effect = {
			if = {
				limit = {
					country_exists = HOL
				}
				hidden_effect = {
					HOL = {
						set_state_controller = 7
						set_state_controller = 35
						set_state_controller = 36
					}
				}
				HOL = {
					start_civil_war = { ideology = fascism size = 1 }
				}
				random_country = {
					limit= {
						original_tag = HOL
						has_government = fascism
					}
					transfer_state = 7
					transfer_state = 35
					transfer_state = 36
					GER = {
						puppet = PREV
						set_autonomy = { target = PREV autonomy_state = autonomy_integrated_puppet }
					}
					
					set_cosmetic_tag = HOL_reichskommissariat
					create_country_leader = {
						name = "Arthur Seyss-Inquart"
						desc = "POLITICS_ARTHUR_SEYSS_INQUART_DESC"
						picture = "gfx/leaders/Europe/Portrait_Europe_Generic_5.dds"
						expire = "1965.1.1"
						ideology = nazism
						traits = {
						}
					}
				}
			}
			else = {
				HOL = {
					transfer_state = 7
					transfer_state = 35
					transfer_state = 36
					set_cosmetic_tag = HOL_reichskommissariat
					create_country_leader = {
						name = "Arthur Seyss-Inquart"
						desc = "POLITICS_ARTHUR_SEYSS_INQUART_DESC"
						picture = "gfx/leaders/Europe/Portrait_Europe_Generic_5.dds"
						expire = "1965.1.1"
						ideology = nazism
						traits = {
						}
					}
				}
				set_autonomy = { target = HOL autonomy_state =  autonomy_reichskommissariat   } ## test johan
			}
		}
	}
	GER_reichskommissariat_croatie = {

		icon = ger_reichskommissariats

		available = {
			has_completed_focus = GER_form_the_reichskommissariats
			has_government = fascism
			controls_state = 103
			controls_state = 104
			controls_state = 109
		}

		cost = 0

		ai_will_do = {
			factor = 0
			modifier = {
				add = 1
				ENG = { has_capitulated = yes }
			}
		}

		visible = {
			has_completed_focus = GER_form_the_reichskommissariats
			has_government = fascism
		}

		complete_effect = {
			if = {
				limit = {
					country_exists = CRO
				}
				hidden_effect = {
					CRO = {
						set_state_controller = 103
						set_state_controller = 104
						set_state_controller = 109
					}
				}
				CRO = {
					start_civil_war = { ideology = fascism size = 1 }
				}
				random_country = {
					limit= {
						original_tag = CRO
						has_government = fascism
					}
					transfer_state = 103
					transfer_state = 104
					transfer_state = 109
					GER = {
						puppet = PREV
						set_autonomy = { target = PREV autonomy_state = autonomy_integrated_puppet }
					}
					
					set_cosmetic_tag = CRO_reichskommissariat
					create_country_leader = {
						name = "Ante Pavelic"
						desc = "ANTE_PAVELIC_DESC"
						picture = "Portrait_Croatia_Ante_Pavelic.dds"
						expire = "1965.1.1"
						ideology = fascism_ideology
						traits = {
						}
					}
				}
			}
			else = {
				CRO = {
					transfer_state = 103
					transfer_state = 104
					transfer_state = 109
					set_cosmetic_tag = CRO_reichskommissariat
					create_country_leader = {
						name = "Ante Pavelic"
						desc = "ANTE_PAVELIC_DESC"
						picture = "Portrait_Croatia_Ante_Pavelic.dds"
						expire = "1965.1.1"
						ideology = fascism_ideology
						traits = {
						}
					}
				}
				set_autonomy = { target = CRO autonomy_state = autonomy_integrated_puppet }
			}
		}
	}
	GER_reichskommissariat_belgien_nordfrankreich = {

		icon = ger_reichskommissariats

		available = {
			has_completed_focus = GER_form_the_reichskommissariats
			has_government = fascism
			controls_state = 6
			controls_state = 29
			controls_state = 34
		}

		cost = 0

		ai_will_do = {
			factor = 0
			modifier = {
				add = 1
				ENG = { has_capitulated = yes }
			}
		}

		visible = {
			has_completed_focus = GER_form_the_reichskommissariats
			has_government = fascism
		}

		complete_effect = {
			if = {
				limit = {
					country_exists = BEL
				}
				hidden_effect = {
					BEL = {
						set_state_controller = 6
						set_state_controller = 34
					}
				}
				BEL = {
					start_civil_war = { ideology = fascism size = 1 }
				}
				random_country = {
					limit= {
						original_tag = BEL
						has_government = fascism
					}
					transfer_state = 6
					transfer_state = 29
					transfer_state = 34
					GER = {
						puppet = PREV
						set_autonomy = { target = PREV autonomy_state = autonomy_integrated_puppet }
					}
					set_cosmetic_tag = BEL_reichskommissariat
					create_country_leader = {
						name = "Josef Grohe"
						desc = "POLITICS_JOSEF_GROHE_DESC"
						picture = "gfx/leaders/GER/Portrait_Germany_Generic_3.dds"
						expire = "1965.1.1"
						ideology = nazism
						traits = {
						}
					}
					hidden_effect = {
						29 = { add_core_of = PREV }
					}
				}
			}
			else = {
				BEL = {
					transfer_state = 6
					transfer_state = 29
					transfer_state = 34
					set_cosmetic_tag = BEL_reichskommissariat
					create_country_leader = {
						name = "Josef Grohe"
						desc = "POLITICS_JOSEF_GROHE_DESC"
						picture = "gfx/leaders/GER/Portrait_Germany_Generic_3.dds"
						expire = "1965.1.1"
						ideology = nazism
						traits = {
						}
					}
				}
				set_autonomy = { target = BEL autonomy_state = autonomy_integrated_puppet }
			}
		}
	}

	GER_reichskommissariat_ostland = {

		icon = ger_reichskommissariats

		available = {
			has_completed_focus = GER_form_the_reichskommissariats
			has_government = fascism
			controls_state = 97
			controls_state = 94
			controls_state = 95
			controls_state = 96
			controls_state = 194
			controls_state = 204
			controls_state = 206
			controls_state = 207
			controls_state = 241
			controls_state = 11
			controls_state = 189
			controls_state = 12
			controls_state = 190
			controls_state = 13
			controls_state = 191
		}

		cost = 0

		ai_will_do = {
			factor = 0
			modifier = {
				add = 1
				SOV = { has_capitulated = yes }
			}
		}

		visible = {
			has_completed_focus = GER_form_the_reichskommissariats
			has_government = fascism
		}

		complete_effect = {
			release = BLR
			BLR = {
				set_state_controller = 11
				set_state_controller = 189
				set_state_controller = 12
				set_state_controller = 190
				set_state_controller = 13
				set_state_controller = 191
				set_state_controller = 97
				set_state_controller = 94
				set_state_controller = 95
				set_state_controller = 96
				set_state_controller = 194
				set_state_controller = 204
				set_state_controller = 206
				set_state_controller = 207
				set_state_controller = 241
				GER = {
					puppet = PREV
					set_autonomy = { target = PREV autonomy_state = autonomy_integrated_puppet }
				}
				
				set_cosmetic_tag = BLR_reichskommissariat
				create_country_leader = {
					name = "Hinrich Lohse"
					desc = "POLITICS_HINRICH_LOHSE_DESC"
					picture = "gfx/leaders/GER/Portrait_Germany_Generic_3.dds"
					expire = "1965.1.1"
					ideology = nazism
					traits = {
					}
				}
				hidden_effect = {
					11 = { add_core_of = PREV }
					189 = { add_core_of = PREV }
					12 = { add_core_of = PREV }
					190 = { add_core_of = PREV }
					13 = { add_core_of = PREV }
					191 = { add_core_of = PREV }
				}
			}
		}
	}

	GER_reichskommissariat_ukraine = {

		icon = ger_reichskommissariats

		available = {
			has_completed_focus = GER_form_the_reichskommissariats
			has_government = fascism
			controls_state = 93
			controls_state = 91
			controls_state = 89
			controls_state = 199
			controls_state = 201
			controls_state = 198
			controls_state = 202
			controls_state = 193
			controls_state = 192
			controls_state = 203
			controls_state = 197
			controls_state = 225
			controls_state = 259
			controls_state = 226
			controls_state = 196
			controls_state = 200
			controls_state = 221
			controls_state = 228
			controls_state = 227
		}

		cost = 0

		ai_will_do = {
			factor = 0
			modifier = {
				add = 1
				SOV = { has_capitulated = yes }
			}
		}

		visible = {
			has_completed_focus = GER_form_the_reichskommissariats
			has_government = fascism
		}

		complete_effect = {
			release = UKR
			UKR = {
				set_state_controller = 93
				set_state_controller = 91
				set_state_controller = 89
				set_state_controller = 199
				set_state_controller = 201
				set_state_controller = 198
				set_state_controller = 202
				set_state_controller = 193
				set_state_controller = 192
				set_state_controller = 203
				set_state_controller = 197
				set_state_controller = 225
				set_state_controller = 259
				set_state_controller = 226
				set_state_controller = 196
				set_state_controller = 200
				set_state_controller = 221
				set_state_controller = 228
				set_state_controller = 227
				GER = {
					puppet = PREV
					set_autonomy = { target = PREV autonomy_state = autonomy_integrated_puppet }
				}
				set_cosmetic_tag = UKR_reichskommissariat
				create_country_leader = {
					name = "Erich Koch"
					desc = "POLITICS_HINRICH_LOHSE_DESC"
					picture = "gfx/leaders/Europe/Portrait_Europe_Generic_6.dds"
					expire = "1965.1.1"
					ideology = nazism
					traits = {
					}
				}
			}
		}
	}
}

political_actions = {
        
	GER_integrate_german_people = {

		icon = ger_reichskommissariats

		available = {
			has_government = fascism
			date > 1940.2.1
			has_full_control_of_state = 8
			has_full_control_of_state = 28
			has_full_control_of_state = 86
		}
		
		fire_only_once = yes

		cost = 25
		ai_will_do = {
			factor = 1
			
		}

		visible = {
			has_government = fascism
			tag = GER
		}

		complete_effect = {
			add_state_core = 8
			add_state_core = 28
			add_state_core = 86
			if = {
				limit = {
					NOT = { owns_state = 28 }
				}
				transfer_state = 28
			}
			86 = { set_state_name = "Posen" }
			set_province_name = { id = 6558 name = "Posen" }
			28 = { set_state_name = "Elsass-Lothringen" }
			set_province_name = { id = 9503 name = "Strassburg" }
			set_province_name = { id = 678 name = "Mulhausen" }
			FRA = {
				country_event = { id = wtt_germany.63 }
			}
			LUX = {
				country_event = { id = wtt_germany.64 }
			}
		}
	}

	GER_form_the_reichskommissariats = {
		icon = ger_reichskommissariats
		fire_only_once = yes

		visible = {
			original_tag = GER
		}

		cost = 25

		available = {
			has_government = fascism
			date > 1942.1.1
		}

		ai_will_do = {
			factor = 10
		}

		complete_effect = {
			custom_effect_tooltip = GER_reichskommissariats_tt
			unlock_decision_tooltip = GER_reichskommissariat_norwegen
			unlock_decision_tooltip = GER_reichskommissariat_niederlande
			unlock_decision_tooltip = GER_reichskommissariat_belgien_nordfrankreich
			unlock_decision_tooltip = GER_reichskommissariat_ostland
			unlock_decision_tooltip = GER_reichskommissariat_ukraine
		}
	}	
}

foreign_politics = {

	GER_rhineland = {
		icon = ger_reichskommissariats
		fire_only_once = yes

		visible = {
			original_tag = GER
		}

		available = {
			is_puppet = no
		}		

		ai_will_do = {
			factor = 10
		}

		complete_effect = {
			42 = { set_demilitarized_zone = no }
			51 = { set_demilitarized_zone = no }
			custom_effect_tooltip = GER_rhineland_ultimatum
			add_political_power = 120
			army_experience = 5
			add_named_threat = { threat = 3 name = GER_rhineland }
			if = {
				limit = { FRA = { is_puppet = no } }
				FRA = {
					country_event = { id = germany.60 }
					custom_effect_tooltip = may_provoke_hostility
				}
			}
		}		
	}

	GER_anschluss = {
		icon = ger_reichskommissariats
		fire_only_once = yes

		days_remove = 30

		ai_will_do = {
			factor = 0
		}

		available = {
			is_puppet = no
			or = {
			AND = { has_army_manpower = { size > 749999 } date > 1937.7.1 }
			date > 1938.4.1
		}
			NOT = { has_idea = rhineland_challenge_met }
		}

		visible = {
			original_tag = GER
		}

		complete_effect = {
			army_experience = 10
			if = {
				limit = {
					country_exists = AUS
					AUS = {
						has_civil_war = no
						OR = {
							owns_state = 4
							owns_state = 152
							owns_state = 153
						}
					}
				}
				AUS = {
					country_event = germany.28
				}				
			}
			if = {
				limit = {
					any_other_country = {
						original_tag = AUS
						has_civil_war = yes
						OR = {
							owns_state = 4
							owns_state = 152
							owns_state = 153
						}
					}
				}
				custom_effect_tooltip = germany.126.warning
				random_other_country = {
					limit = {
						original_tag = AUS
						OR = {
							has_government = fascism
							AND = {
								has_government = neutrality
								NOT = {
									any_other_country = {
										original_tag = AUS
										has_government = fascism
									}
								}
							}
							NOT = {
								any_other_country = {
									original_tag = AUS
									OR = {
										has_government = fascism
										has_government = neutrality
									}
								}
							}							
						}
					}
					country_event = { id = germany.126 days = 1 }
				}
				# REVISIT Add Czech claims, possibly
			}
			if = {
				limit = {
					4 = {
						owner = {
							NOT = {
								tag = AUS
							}
							NOT = {
								is_in_faction_with = ROOT
							}
						}
					}
				}
				add_state_core = 4
			}
			if = {
				limit = {
					152 = {
						owner = {
							NOT = {
								tag = AUS
							}
							NOT = {
								is_in_faction_with = ROOT
							}
						}
					}
				}
				add_state_core = 152
			}
			if = {
				limit = {
					153 = {
						owner = {
							NOT = {
								tag = AUS
							}
							NOT = {
								is_in_faction_with = ROOT
							}
						}
					}
				}
				add_state_core = 153
			}
		}
	}

	GER_demand_sudetenland = {
		icon = ger_reichskommissariats
		fire_only_once = yes

		visible = {
			original_tag = GER
		}

		days_remove = 30

		available = {
			is_puppet = no
			has_army_manpower = { size > 949999 } #80 div	
            date > 1938.1.1			
			NOT = {
				AND = {
					CZE = { is_in_faction_with = GER }
					has_war = yes
				}
			}
		}

		ai_will_do = {
			factor = 10
		}

		complete_effect = {
			if =  {
				limit = {
					OR = {
						ENG = { exists = no }
						ENG = {
							is_subject = yes
						}
						has_war_with = ENG
						has_war_with = FRA
						AND = {
							CZE = { is_subject = yes }
							OR = {
								CZE = { 
									NOT = {
										is_puppet_of = HUN
									}
								}
								NOT = { has_dlc = "Death or Dishonor" }
							}
						}
						CZE = { has_war_with = ENG }
						CZE = { has_war_with = FRA }
						CZE = { is_in_faction_with = GER }
					}
					CZE = { controls_state = 69 }
				}
				if = {
					limit = {
						CZE = { is_subject = no }
					}
					CZE = {
						country_event = { id = germany.122 }
					}
					else = {
						CZE = {
							OVERLORD = { country_event = { id = germany.122 } }
						}
					}
				}
			}
			if = {
				limit = {
					has_dlc = "Death or Dishonor"
					CZE = { NOT = { is_in_faction_with = GER } } #in case AH is in faction with GER and dragged a subject CZE along.
					country_exists = HUN
					OR = {
						69 = { is_owned_by = HUN } #AH restored
						AND = {
							CZE = { is_subject_of = HUN }
							69 = { is_owned_by = CZE }
						}
					}
				}
				HUN = {
					country_event = germany.122
				}
			}
			if = {
				limit = {
					
					ENG = { exists = yes }
					ENG = { is_subject = no }
					NOT = { has_war_with = ENG }
					NOT = { has_war_with = FRA }
					CZE = { is_subject = no }
					CZE = { NOT = { is_in_faction_with = GER } }
					CZE = { NOT = { has_war_with = ENG } }
					CZE = { controls_state = 69 }
					OR = {
						HUN = {
							NOT = {
								has_completed_focus = HUN_protect_czechoslovakia #DOD only
							}
						}
						CZE = {
							has_country_flag = HUN_AH_CZE_refused
						}
					}
				}
				ENG = {
					country_event = germany.40
				}
				add_named_threat = { threat = 3 name = GER_demand_sudetenland_threat }
			}
			69 = {
				add_claim_by = GER
			}
			if = {
				limit = {
					NOT = { CZE = { controls_state = 69 } }
					NOT = {
						69 = { is_controlled_by = HUN }
						HUN = { has_completed_focus = HUN_protect_czechoslovakia }
					}
					69 = {
						controller = {
							NOT = { is_in_faction_with = GER }
						}
					}
				}
				add_named_threat = { threat = 3 name = GER_demand_sudetenland_threat }
				69 = {
					controller = {
						GER = {
							create_wargoal = {
								type = take_state_focus
								target = PREV
								generator = { 69 }
							}
						}
					}
				}
			}
		}
	}

	GER_first_vienna_award = {
		icon = ger_reichskommissariats
		fire_only_once = yes

		visible = {
			original_tag = GER
		}

		available = {
			is_puppet = no
			owns_state = 69
			country_exists = HUN
		}

		days_remove = 15

		ai_will_do = {
			factor = 10
		}

		complete_effect = {
			HUN = {
				country_event = { id = germany.51 }
				add_opinion_modifier = { target = GER modifier = GER_first_vienna_award_GER }
			}
			every_other_country = {
				limit = { 
					is_faction_leader = yes
					NOT = { tag = GER }
				}
				reverse_add_opinion_modifier = { target = HUN modifier = GER_second_vienna_award_other }
			}
		}
	}

	GER_end_of_czechoslovakia = {
		icon = ger_reichskommissariats
		fire_only_once = yes

		visible = {
			original_tag = GER
		}

		days_remove = 30

		available = { 
			owns_state = 69
			is_puppet = no
			or = {
				CZE = { is_puppet_of = GER }
				CZE = { is_in_faction_with = GER }
			has_army_manpower = { size > 949999 }
			date > 1939.3.16
			}
			NOT = { has_war_with = CZE }
		}

		ai_will_do = {
			factor = 10
		}

		complete_effect = {
			if = {
				limit = { 
					country_exists = CZE 
					CZE = {
						NOT = {
							is_subject_of = HUN
						}
					}
				}
				set_global_flag = end_of_czechoslovakia
				CZE = { country_event = germany.53 }
			}
			if = {
				limit = { 
					OR = {
						CZE = {
							is_subject_of = HUN
						}
						HUN = {
							owns_state = 9#Prague - AH annexed CZE
						}
					}
				}
				add_state_claim = 9
				add_state_claim = 75
			}
			if = {
				limit = { NOT = { country_exists = CZE } }
				country_event = { id = germany.55 hours = 6 }
			}
			add_named_threat = { threat = 5 name = GER_end_of_czechoslovakia }
		}
	}

	GER_second_vienna_award = {
		icon = ger_reichskommissariats
		fire_only_once = yes

		visible = {
			original_tag = GER
		}

		days_remove = 15

		available = {
			is_puppet = no
			has_army_manpower = { size > 999999 }
			has_capitulated = no
			owns_state = 9
			country_exists = HUN
		}

		ai_will_do = {
			factor = 10
		}

		complete_effect = {
			if = {
				limit = {
					HUN = {
						is_friend_or_potential_friend_of_GER = yes
					}
					ROM = {
						controls_state = 76
						NOT = { has_war_with = HUN }
					}
				}
				country_event = { id = germany.20 }
			}
		}
	}

	GER_demand_memel = {
		icon = ger_reichskommissariats
		fire_only_once = yes

		visible = {
			original_tag = GER
			owns_state = 9
		}

		available = {
			is_puppet = no
			has_army_manpower = { size > 999999 }
			has_capitulated = no
			owns_state = 9
		}

		ai_will_do = {
			factor = 10
		}

		complete_effect = {
			188 = { add_core_of = GER }
			86 = { add_claim_by = GER }
			add_named_threat = { threat = 3 name = GER_demand_memel_threat }
			if = {
				limit = {
					LIT = { owns_state = 188 }
				}
				LIT = {
					country_event = { id = baltic.4 }
				}
			}
		}
	}

	GER_danzig_or_war = {
		icon = ger_reichskommissariats
		fire_only_once = yes

		visible = {
			original_tag = GER
		}

		available = {
			is_puppet = no
			has_army_manpower = { size > 999999 }
			has_capitulated = no
			owns_state = 9
		}

		ai_will_do = {
			factor = 10
		}

		complete_effect = {
			add_named_threat = { threat = 10 name = GER_danzig_or_war }
			POL = {
				country_event = { id = germany.86 }
				if = {
					limit = { NOT = { is_in_faction_with = ROOT } }
					custom_effect_tooltip = needs_approval
				}
			}
		}
	}

	GER_weserubung = {
		icon = ger_reichskommissariats
		fire_only_once = yes

		visible = {
			original_tag = GER
		}

		available = {
			POL = {
				NOT = { controls_state = 85 }
				NOT = { controls_state = 10 }	
			}
			OR = { 
				has_war_with = ENG
				NOT = {country_exists = ENG}
			}
		}

		ai_will_do = {
			factor = 10
		}

		complete_effect = {
			if = {
				limit = {
					NOT = { DEN = { is_in_faction_with = GER } }
					country_exists = DEN					
				} 
				create_wargoal = {
					type = take_state_focus
					target = DEN
					generator = { 37 }
				}
			}


			if = {
				limit = {
					NOT = { NOR = { is_in_faction_with = GER } }
					country_exists = NOR					
				} 
				create_wargoal = {
					type = take_state_focus
					target = NOR
					generator = { 110 }
				}
			}
			
			add_tech_bonus = {
				name = tp_bonus
				bonus = 0.15
				ahead_reduction = 0.25
				uses = 1
				technology = transport
				technology = landing_craft
				technology = tank_landing_craft
				}				
			add_tech_bonus = {
				name = Secrecy
				bonus = 0.25
				uses = 1
				technology = improved_encryption 
				}
			hidden_effect = {
				news_event = { hours = 6 id = news.233 }
			}	
		}
	}

	GER_sweden_treaty = {
		icon = ger_reichskommissariats
		fire_only_once = yes

		visible = {
			original_tag = GER
		}

		available = {
			NOT = { has_war_with = SWE }
			SWE = {
				custom_trigger_tooltip = {
					tooltip = GER_alone_or_peace_faction_tt
					is_alone_or_in_faction_at_peace_with_GER = yes
				}
			}
			OR = {
			controls_state = 37
			controls_state = 99
			is_in_faction_with = DEN
			}
			OR = {
			controls_state = 110
			controls_state = 143
			controls_state = 144 
			is_in_faction_with = NOR
			}
		}

		ai_will_do = {
			factor = 10
		}

		complete_effect = {
			SWE = { 
			country_event = { id = germany.322 }
			custom_effect_tooltip = needs_approval
			}
		}
	}

	GER_around_maginot = {
		icon = ger_reichskommissariats
		fire_only_once = yes

		visible = {
			original_tag = GER
		}

		available = {
			POL = {
				NOT = { controls_state = 85 }
				NOT = { controls_state = 10 }	
			}
			OR = { 
				has_war_with = ENG
				NOT = {country_exists = ENG}
			}
		}

		ai_will_do = {
			factor = 10
		}

		complete_effect = {
			if = { 
				limit = { 
					NOT = { BEL = { is_in_faction_with = GER } }
				}
				create_wargoal = {
					type = take_state_focus
					target = BEL
					generator = { 6 }
				}
			}
			if =  {
				limit = {
					NOT = { HOL = { is_in_faction_with = GER } }
				}
				create_wargoal = {
					type = take_state_focus
					target = HOL
					generator = { 7 }
				}
			}
			if = {
				limit = {
					NOT = { LUX = { is_in_faction_with = GER } }
				}
				create_wargoal = {
					type = take_state_focus
					target = LUX
					generator = { 8 }
				}			
			}
			hidden_effect = {
				news_event = { hours = 6 id = news.233 }
				GER = {
				country_event = { id = operation.71 }
		    	}
			}
		}
	}

	GER_mol_rib_pact = {
		icon = ger_reichskommissariats
		fire_only_once = yes

		visible = {
			original_tag = GER
		}

		available = {
			NOT = { is_in_faction_with = POL }
			is_puppet = no
			or = {
			has_army_manpower = { size > 949999 } 
			date > 1939.8.24
			}
			SOV = {
				NOT = { has_war_with = GER }
				country_exists = SOV
			}
		}

		ai_will_do = {
			factor = 10
		}

		complete_effect = {
			SOV = {
				country_event = { id = germany.11 days = 1 }
				custom_effect_tooltip = GER_mol_rib_pact_tt
				custom_effect_tooltip = needs_approval
			}
		}
	}

	GER_german_soviet_trade_agreement = {
		icon = ger_reichskommissariats
		fire_only_once = yes

		visible = {
			original_tag = GER
		}

		available = {
			SOV = {
				NOT = { has_war_with = GER }
				country_exists = SOV
			}
			is_neighbor_of = SOV
		}

		ai_will_do = {
			factor = 10
		}

		complete_effect = {
			SOV = {
			country_event = { id = germany.316  days = 1 }
			custom_effect_tooltip = needs_approval
			}
		}
	}

	GER_soviet_treaty = {
		icon = ger_reichskommissariats
		fire_only_once = yes

		visible = {
			original_tag = GER
		}

		available = {
			SOV = {
				NOT = { has_war_with = GER }
				country_exists = SOV
			}
			is_neighbor_of = SOV
		}

		ai_will_do = {
			factor = 10
		}

		complete_effect = {
			SOV = {
				country_event = { id = germany.75 days = 1 }
				custom_effect_tooltip = needs_approval
			}
			effect_tooltip = {
				add_tech_bonus = {
					name = med_armor_bonus
					bonus = 0.5
					ahead_reduction = 1
					technology = medium_armor
				}
			}	
		}
	}

	GER_prepare_to_invade_the_ussr = {
		icon = ger_reichskommissariats
		fire_only_once = yes

		visible = {
			original_tag = GER
		}

		available = {
			OR = {
			POL = { has_capitulated = yes }
			POL = { is_in_faction_with = GER }
			}
			OR = {
			FRA = { has_capitulated = yes }
			FRA = { is_in_faction_with = GER }
			}
		}

		days_remove = 70

		modifier = {
			civilian_factory_use = 5			
		}

		ai_will_do = {
			factor = 10
		}

		complete_effect = {
			custom_effect_tooltip = GER_prepare_to_invade_the_ussr_tt
			hidden_effect = {
			188 = {
					if = {
						limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
						}
					}
				}
			5 = {
					if = {
						limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
						}
					}
				}
			
			92 = {
					if = {
						limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
						}
					}
				}

			98 = {
					if = {
						limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
						}
					}
				}
			10 = {
					if = {
						limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
						}
					}
				}
			92 = {
					if = {
						limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
						}
					}
				}
			88 = {
					if = {
						limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
						}
					}
				}
			90 = {
					if = {
						limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
						}
					}
				}
			}
		}	
	}

	GER_ussr_war_goal = {
		icon = ger_reichskommissariats
		fire_only_once = yes

		visible = {
			original_tag = GER
		}

		available = {
		    date > 1941.5.29
			is_puppet = no
			has_army_manpower = { size > 1999999 } 
			is_neighbor_of = SOV
			OR = {
			POL = { has_capitulated = yes }
			POL = { is_in_faction_with = GER }
            POL = { is_in_faction_with = SOV }
			}
			OR = {
			FRA = { has_capitulated = yes }
			FRA = { is_in_faction_with = GER }
			}
		}

		ai_will_do = {
			factor = 10
		}

		complete_effect = {
			
			hidden_effect = {
			    add_timed_idea = {
				    idea = Barbarossa_I
				    days = 90
                }
			    add_timed_idea = {
			     	idea = Barbarossa_II
			     	days = 180
		     	}
				SOV = {
					add_timed_idea = {
			         	idea = Rodina_III
			         	days = 90
	     	       	}
					add_ideas =  Disorganized_Red_Army_1
				    add_ideas = SOV_great_patriotic_war_mp
				}
			}
			if = {
				limit = {
					NOT = { has_war_with = SOV }
				}
				GER = {
					country_event = { id = germany.238 days = 1 }
				}
			}
		}
	}			

	GER_integrate_war_economies = {
		icon = ger_reichskommissariats
		fire_only_once = yes

		visible = {
			original_tag = GER
		}

		available = {
			OR = {
				HUN = {
					is_in_faction_with = ROOT
					is_free_or_subject_of_root = yes
				}
				ROM = {
					is_in_faction_with = ROOT
					is_free_or_subject_of_root = yes
				}
			}
		}

		ai_will_do = {
			factor = 10
		}

		complete_tooltip = {
			every_state = {
				limit = { has_state_flag = GER_integrate_war_economies_1 }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			every_state = {
				limit = { has_state_flag = GER_integrate_war_economies_2 }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			HUN = {
				every_state = {
					limit = { has_state_flag = GER_integrate_war_economies_1 }
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
				every_state = {
					limit = { has_state_flag = GER_integrate_war_economies_2 }
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
			}
			ROM = {
				every_state = {
					limit = { has_state_flag = GER_integrate_war_economies_1 }
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
				every_state = {
					limit = { has_state_flag = GER_integrate_war_economies_2 }
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
			}
		}

		complete_effect = {
			
			if = {
				limit = {
					NOT = { is_in_faction_with = HUN }
				}
				custom_effect_tooltip = GER_integrate_war_economies_tt
			}
			if = {
				limit = {
					NOT = { is_in_faction_with = ROM }
				}
				custom_effect_tooltip = GER_integrate_war_economies_tt2
			}
			if = {
				limit = {
					HUN = {
						is_in_faction_with = GER
						is_free_or_subject_of_root = yes
					}
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
					set_state_flag = GER_integrate_war_economies_1
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
					set_state_flag = GER_integrate_war_economies_2
				}
			}
			if = {
				limit = {
					ROM = {
						is_in_faction_with = GER
						is_free_or_subject_of_root = yes
					}
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
					set_state_flag = GER_integrate_war_economies_1
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
					set_state_flag = GER_integrate_war_economies_2
				}
			}
			if = {
				limit = {
					HUN = {
						is_in_faction_with = GER
						is_free_or_subject_of_root = yes
					}
				}
				HUN = {
					random_owned_controlled_state = {
						limit = {
							free_building_slots = {
								building = arms_factory
								size > 1
								include_locked = yes
							}
						}
						add_extra_state_shared_building_slots = 2
						add_building_construction = {
							type = arms_factory
							level = 2
							instant_build = yes
						}
						set_state_flag = GER_integrate_war_economies_1
					}
					random_owned_controlled_state = {
						limit = {
							free_building_slots = {
								building = arms_factory
								size > 1
								include_locked = yes
							}
						}
						add_extra_state_shared_building_slots = 2
						add_building_construction = {
							type = arms_factory
							level = 2
							instant_build = yes
						}
						set_state_flag = GER_integrate_war_economies_2
					}
				}
			}
			if = {
				limit = {
					ROM = {
						is_in_faction_with = GER
						is_free_or_subject_of_root = yes
					}
				}
				ROM = {
					random_owned_controlled_state = {
						limit = {
							free_building_slots = {
								building = arms_factory
								size > 1
								include_locked = yes
							}
						}
						add_extra_state_shared_building_slots = 2
						add_building_construction = {
							type = arms_factory
							level = 2
							instant_build = yes
						}
						set_state_flag = GER_integrate_war_economies_1
					}
					random_owned_controlled_state = {
						limit = {
							free_building_slots = {
								building = arms_factory
								size > 1
								include_locked = yes
							}
						}
						add_extra_state_shared_building_slots = 2
						add_building_construction = {
							type = arms_factory
							level = 2
							instant_build = yes
						}
						set_state_flag = GER_integrate_war_economies_2
					}
					country_event = { id = wtt_germany.7 days = 1 }
				}
			}
			if = {
				limit = {
					has_dlc = "Death or Dishonor" 
					HUN = {
						is_in_faction_with = GER
					}
					is_subject = no
				}
				GER = {
					set_autonomy = { target = HUN autonomy_state = autonomy_satellite }
				}
			}
			if = {
				limit = { 
					has_dlc = "Death or Dishonor" 
					ROM = {
						is_in_faction_with = GER
					}
					is_subject = no
				}
				GER = {
					set_autonomy = { target = ROM autonomy_state = autonomy_satellite }
				}
			}
			if = {
				limit = { 
					has_dlc = "Together for Victory"
					NOT = { has_dlc = "Death or Dishonor" } 
					HUN = {
						is_in_faction_with = GER
					}
					is_subject = no
				}
				GER = {
					set_autonomy = { target = HUN autonomy_state = autonomy_dominion }
				}
			}
			if = {
				limit = { 
					has_dlc = "Together for Victory" 
					NOT = { has_dlc = "Death or Dishonor" }
					ROM = {
						is_in_faction_with = GER
					}
					is_subject = no
				}
				GER = {
					set_autonomy = { target = ROM autonomy_state = autonomy_dominion }
				}
			}
			if = {
				limit = { 
					NOT = { has_dlc = "Together for Victory" }
					NOT = { has_dlc = "Death or Dishonor" }
					HUN = {
						is_in_faction_with = GER
					}
					is_subject = no
				}
				puppet = HUN
			}
			if = {
				limit = { 
					NOT = { has_dlc = "Together for Victory" }
					NOT = { has_dlc = "Death or Dishonor" }
					ROM = {
						is_in_faction_with = GER
					}
					is_subject = no
				}
				puppet = ROM
			}
		}
	}
	GER_secure_spain = {

		icon = ger_reichskommissariats

		available = {
			SPR = { has_civil_war = no }
			SPR = { NOT = { has_government = fascism }
			}
			FRA = {
				OR = {
					NOT = { country_exists = THIS }
					has_capitulated = yes
					has_government = fascism
				}
			}
		}


		cost = 25

		ai_will_do = {
			factor = 1
		}

		visible = {

		}

		complete_effect = {
		GER = {
				create_wargoal = {
				type = take_state
				target = SPR
				generator = { 41 }
				}
			}
			if = { limit = { NOT = { SOV = { has_government = fascism } }
			}
		    	SOV = {
		             add_opinion_modifier = { target = GER modifier = large_decrease }
	        	}
			}
			if = { limit = { NOT = { POR = { has_government = fascism } }
			}
		    	POR = {
		             add_opinion_modifier = { target = GER modifier = large_decrease }
	        	}
			}
		}
	}

	GER_befriend_nationalist_spain = {

		icon = ger_reichskommissariats

		available = {
			SPR = { has_civil_war = no }
			any_other_country = {
				original_tag = SPR
				has_government = fascism
				NOT = { has_war_with = GER }
			}
			FRA = {
				OR = {
					NOT = { country_exists = THIS }
					has_capitulated = yes
					has_government = fascism
				}
			}
		}

		cost = 25

		ai_will_do = {
			factor = 1
		}

		visible = {

		}

		complete_effect = {
			random_country = {
				limit = {
					original_tag = SPR
					has_government = fascism
				}	
			country_event = { id = germany.301 days = 1 }
			}
		}
	}
}


#Category only allowed for GER
GER_military_buildup = {

	GER_jaegernotprogramm = {

		icon = generic_air

		available = {
			has_war = yes
			AND = {
				has_deployed_air_force_size = {
					type = fighter
					size < 1501
				}
				has_equipment = {
					fighter_equipment < 1501
				}
			}
			NOT = {
				has_idea = GER_jaegernotprogramm
			}
		}

		cost = 25

		ai_will_do = {
			factor = 1
		}

		visible = {
			has_war = yes
			AND = {
				has_deployed_air_force_size = {
					type = fighter
					size < 1500
				}
				has_equipment = {
					fighter_equipment < 1500
				}
			}
			NOT = {
				has_idea = GER_jaegernotprogramm
			}
		}

		complete_effect = {
			add_timed_idea = { idea = GER_jaegernotprogramm days = 180 }
		}
	}
}

GER_endsieg_category = {

	prepare_to_endsieg = { 
		icon = ger_desperate_defence

		cost = 150 

		allowed = { 
			tag = GER 
		}

		fire_only_once = yes 

		available = {
			has_completed_focus = GER_Heer_expansion
			date > 1941.12.1
			fascism > 0.85
			OR = { 
			surrender_progress > 0.05
		}

		visible = {
			has_completed_focus = GER_Heer_expansion
			OR = { has_war_with = SOV has_war_with = USA }
			date > 1941.5.1
		}

		ai_will_do = {
			factor = 400
		}

		complete_effect = { 
			add_ideas = volkssturm
		}
	}

	nd_conscription = { 
		icon = ger_desperate_defence

		cost = 150 

		allowed = { 
			tag = GER
		}

		fire_only_once = yes 

		available = {
			has_completed_focus = GER_Heer_expansion
			date > 1942.9.1
			fascism > 0.9
			OR = { 
			surrender_progress > 0.1
		}

		visible = { 
			OR = { has_war_with = SOV has_war_with = USA }
			date > 1942.1.20
		}

		ai_will_do = {
			factor = 400
		}

		complete_effect = {
			add_ideas = non_discriminatory_conscription 
		}
	}
}

