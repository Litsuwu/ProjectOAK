#	Example:
# 
#	example_effect = {
#		add_political_power = 66
#		add_popularity = {
#			ideology = fascism
#			popularity = 0.33
#		}
#	}
#
#
#	In a script file:
#
#	effect = {
#		example_effect = yes
#	}
#

#####################################
### emergency_factory_conversion ####
#####################################

#This is going to give misleading and ugly tooltips. Making it nice will take effort. TODO_WTT_CD make nice or ignore and remove comment. Easiest solution is just making a custom tooltip that says "5 civilian factories will be converted to military factories" and ignore telling the player the states where it will happen.

replace_civ_with_arms_factories = {	

	random_owned_controlled_state = {
		limit = {
			is_core_of = ROOT
			industrial_complex > 0
		}
		remove_building = {
			type = industrial_complex
			level = 1
		}
		add_building_construction = {
			type = arms_factory
			level = 1
			instant_build = yes
		}
	}
	
	random_owned_controlled_state = {
		limit = {
			is_core_of = ROOT
			industrial_complex > 0
		}
		remove_building = {
			type = industrial_complex
			level = 1
		}
		add_building_construction = {
			type = arms_factory
			level = 1
			instant_build = yes
		}
	}

	random_owned_controlled_state = {
		limit = {
			is_core_of = ROOT
			industrial_complex > 0
		}
		remove_building = {
			type = industrial_complex
			level = 1
		}
		add_building_construction = {
			type = arms_factory
			level = 1
			instant_build = yes
		}
	}

	random_owned_controlled_state = {
		limit = {
			is_core_of = ROOT
			industrial_complex > 0
		}
		remove_building = {
			type = industrial_complex
			level = 1
		}
		add_building_construction = {
			type = arms_factory
			level = 1
			instant_build = yes
		}
	}

	random_owned_controlled_state = {
		limit = {
			is_core_of = ROOT
			industrial_complex > 0
		}
		remove_building = {
			type = industrial_complex
			level = 1
		}
		add_building_construction = {
			type = arms_factory
			level = 1
			instant_build = yes
		}
	}
}

replace_arms_with_civ_factories = {	

	random_owned_controlled_state = {
		limit = {
			is_core_of = ROOT
			arms_factory > 0
		}
		remove_building = {
			type = arms_factory
			level = 1
		}
		add_building_construction = {
			type = industrial_complex
			level = 1
			instant_build = yes
		}
	}
	
	random_owned_controlled_state = {
		limit = {
			is_core_of = ROOT
			arms_factory > 0
		}
		remove_building = {
			type = arms_factory
			level = 1
		}
		add_building_construction = {
			type = industrial_complex
			level = 1
			instant_build = yes
		}
	}

	random_owned_controlled_state = {
		limit = {
			is_core_of = ROOT
			arms_factory > 0
		}
		remove_building = {
			type = arms_factory
			level = 1
		}
		add_building_construction = {
			type = industrial_complex
			level = 1
			instant_build = yes
		}
	}

	random_owned_controlled_state = {
		limit = {
			is_core_of = ROOT
			arms_factory > 0
		}
		remove_building = {
			type = arms_factory
			level = 1
		}
		add_building_construction = {
			type = industrial_complex
			level = 1
			instant_build = yes
		}
	}

	random_owned_controlled_state = {
		limit = {
			is_core_of = ROOT
			arms_factory > 0
		}
		remove_building = {
			type = arms_factory
			level = 1
		}
		add_building_construction = {
			type = industrial_complex
			level = 1
			instant_build = yes
		}
	}
}

infrastructure_effort_1_effect = {	

	random_owned_controlled_state = {
		limit = {
			is_core_of = ROOT
			infrastructure > 3
		}
		add_building_construction = {
			type = infrastructure
			level = 1
			instant_build = yes
		}
	}
	
	random_owned_controlled_state = {
		limit = {
			is_core_of = ROOT
			infrastructure > 2
		}
		add_building_construction = {
			type = infrastructure
			level = 1
			instant_build = yes
		}
	}

	random_owned_controlled_state = {
		limit = {
			is_core_of = ROOT
			infrastructure > 2
		}
		add_building_construction = {
			type = infrastructure
			level = 1
			instant_build = yes
		}
	}
	
	random_owned_controlled_state = {
		limit = {
			is_core_of = ROOT
			infrastructure > 2
		}
		add_building_construction = {
			type = infrastructure
			level = 1
			instant_build = yes
		}
	}

	random_owned_controlled_state = {
		limit = {
			is_core_of = ROOT
			infrastructure > 2
		}
		add_building_construction = {
			type = infrastructure
			level = 1
			instant_build = yes
		}
	}
}

infrastructure_effort_2_effect = {

	random_owned_controlled_state = {
		limit = {
			is_core_of = ROOT
			infrastructure > 3
		}
		add_building_construction = {
			type = infrastructure
			level = 1
			instant_build = yes
		}
	}
	
	random_owned_controlled_state = {
		limit = {
			is_core_of = ROOT
			infrastructure > 2
		}
		add_building_construction = {
			type = infrastructure
			level = 1
			instant_build = yes
		}
	}

	random_owned_controlled_state = {
		limit = {
			is_core_of = ROOT
			infrastructure > 2
		}
		add_building_construction = {
			type = infrastructure
			level = 1
			instant_build = yes
		}
	}
	
	random_owned_controlled_state = {
		limit = {
			is_core_of = ROOT
			infrastructure > 2
		}
		add_building_construction = {
			type = infrastructure
			level = 1
			instant_build = yes
		}
	}

	random_owned_controlled_state = {
		limit = {
			is_core_of = ROOT
			infrastructure > 2
		}
		add_building_construction = {
			type = infrastructure
			level = 1
			instant_build = yes
		}
	}

	random_owned_controlled_state = {
		limit = {
			is_core_of = ROOT
			infrastructure > 2
		}
		add_building_construction = {
			type = infrastructure
			level = 1
			instant_build = yes
		}
	}

	random_owned_controlled_state = {
		limit = {
			is_core_of = ROOT
			infrastructure > 2
		}
		add_building_construction = {
			type = infrastructure
			level = 1
			instant_build = yes
		}
	}
}

infrastructure_effort_3_effect = {

	random_owned_controlled_state = {
		limit = {
			is_core_of = ROOT
			infrastructure > 2
		}
		add_building_construction = {
			type = infrastructure
			level = 1
			instant_build = yes
		}
	}
	
	random_owned_controlled_state = {
		limit = {
			is_core_of = ROOT
			infrastructure > 2
		}
		add_building_construction = {
			type = infrastructure
			level = 1
			instant_build = yes
		}
	}

	random_owned_controlled_state = {
		limit = {
			is_core_of = ROOT
			infrastructure > 2
		}
		add_building_construction = {
			type = infrastructure
			level = 1
			instant_build = yes
		}
	}
	
	random_owned_controlled_state = {
		limit = {
			is_core_of = ROOT
			infrastructure > 2
		}
		add_building_construction = {
			type = infrastructure
			level = 1
			instant_build = yes
		}
	}

	random_owned_controlled_state = {
		limit = {
			is_core_of = ROOT
			infrastructure > 2
		}
		add_building_construction = {
			type = infrastructure
			level = 1
			instant_build = yes
		}
	}

	random_owned_controlled_state = {
		limit = {
			is_core_of = ROOT
			infrastructure > 2
		}
		add_building_construction = {
			type = infrastructure
			level = 1
			instant_build = yes
		}
	}

	random_owned_controlled_state = {
		limit = {
			is_core_of = ROOT
			infrastructure > 2
		}
		add_building_construction = {
			type = infrastructure
			level = 1
			instant_build = yes
		}
	}

	random_owned_controlled_state = {
		limit = {
			is_core_of = ROOT
			infrastructure > 2
		}
		add_building_construction = {
			type = infrastructure
			level = 1
			instant_build = yes
		}
	}

	random_owned_controlled_state = {
		limit = {
			is_core_of = ROOT
			infrastructure > 2
		}
		add_building_construction = {
			type = infrastructure
			level = 1
			instant_build = yes
		}
	}

	random_owned_controlled_state = {
		limit = {
			is_core_of = ROOT
			infrastructure > 2
		}
		add_building_construction = {
			type = infrastructure
			level = 1
			instant_build = yes
		}
	}
}

organize_air_defence = {

	random_owned_controlled_state = {
		limit = {
			is_core_of = ROOT
			arms_factory > 6
		}
		add_building_construction = {
			type = anti_air_building
			level = 2
			instant_build = yes
		}
	}
	
	random_owned_controlled_state = {
		limit = {
			is_core_of = ROOT
			arms_factory > 5
		}
		add_building_construction = {
			type = anti_air_building
			level = 2
			instant_build = yes
		}
	}

	random_owned_controlled_state = {
		limit = {
			is_core_of = ROOT
			arms_factory > 5
		}
		add_building_construction = {
			type = anti_air_building
			level = 2
			instant_build = yes
		}
	}
	
	random_owned_controlled_state = {
		limit = {
			is_core_of = ROOT
			arms_factory > 5
		}
		add_building_construction = {
			type = anti_air_building
			level = 2
			instant_build = yes
		}
	}

	random_owned_controlled_state = {
		limit = {
			is_core_of = ROOT
			arms_factory > 5
		}
		add_building_construction = {
			type = anti_air_building
			level = 2
			instant_build = yes
		}
	}
	random_owned_controlled_state = {
		limit = {
			is_core_of = ROOT
			arms_factory > 5
		}
		add_building_construction = {
			type = radar_station
			level = 1
			instant_build = yes
		}
	}
}

commission_defence_line = {

	random_owned_controlled_state = {
		limit = {
			arms_factory > 2
		}
		add_building_construction = {
			type = bunker
			level = 2
			instant_build = yes
		}
	}
	
	random_owned_controlled_state = {
		limit = {
			arms_factory > 2
		}
		add_building_construction = {
			type = bunker
			level = 2
			instant_build = yes
		}
	}

	random_owned_controlled_state = {
		limit = {
			arms_factory > 2
		}
		add_building_construction = {
			type = bunker
			level = 2
			instant_build = yes
		}
	}
	
	random_owned_controlled_state = {
		limit = {
			arms_factory > 2
		}
		add_building_construction = {
			type = bunker
			level = 2
			instant_build = yes
		}
	}

	random_owned_controlled_state = {
		limit = {
			arms_factory > 2
		}
		add_building_construction = {
			type = bunker
			level = 2
			instant_build = yes
		}
	}
	random_owned_controlled_state = {
		limit = {
			arms_factory > 2
		}
		add_building_construction = {
			type = bunker
			level = 2
			instant_build = yes
		}
	}
	random_owned_controlled_state = {
		limit = {
			arms_factory > 2
		}
		add_building_construction = {
			type = bunker
			level = 2
			instant_build = yes
		}
	}

	random_owned_controlled_state = {
		limit = {
			arms_factory > 2
		}
		add_building_construction = {
			type = bunker
			level = 2
			instant_build = yes
		}
	}
	random_owned_controlled_state = {
		limit = {
			arms_factory > 2
		}
		add_building_construction = {
			type = bunker
			level = 2
			instant_build = yes
		}
	}
}

commission_coast_defence = {

	random_owned_controlled_state = {
		limit = {
			coastal_bunker > 1
		}
		add_building_construction = {
			type = coastal_bunker
			level = 2
			instant_build = yes
		}
	}
	
	random_owned_controlled_state = {
		limit = {
			coastal_bunker > 1
		}
		add_building_construction = {
			type = coastal_bunker
			level = 2
			instant_build = yes
		}
	}

	random_owned_controlled_state = {
		limit = {
			coastal_bunker > 1
		}
		add_building_construction = {
			type = coastal_bunker
			level = 2
			instant_build = yes
		}
	}
	
	random_owned_controlled_state = {
		limit = {
			coastal_bunker > 1
		}
		add_building_construction = {
			type = coastal_bunker
			level = 2
			instant_build = yes
		}
	}

	random_owned_controlled_state = {
		limit = {
			coastal_bunker > 1
		}
		add_building_construction = {
			type = coastal_bunker
			level = 2
			instant_build = yes
		}
	}
}

#Country scope
ROOT_inherit_current_scope_wars_effect = {
	custom_effect_tooltip = ROOT_inherit_current_scope_wars_effect
	hidden_effect = {	
		every_country = {
			limit = {
				has_defensive_war_with = PREV
			}
			ROOT = { declare_war_on = { target = PREV type = annex_everything } }
		}
		every_country = {
			limit = {
				has_offensive_war_with = PREV
			}
			declare_war_on = { target = ROOT type = annex_everything }
		}
	}
}

# Add AI strategies in case of Central European Alliance
GER_democratic_nations_ai_strategies = {
	# Reduce Contain against SOV
	add_ai_strategy = {
		type = contain
		id = "SOV"
		value = -800
	}
	add_ai_strategy = {
		type = contain
		id = "ITA"
		value = -800
	}
	# Poland
	add_ai_strategy = {
		type = protect
		id = "POL"
		value = -200
	}
	add_ai_strategy = {
		type = ignore
		id = "POL"
		value = 200
	}
	add_ai_strategy = {
		type = befriend
		id = "POL"
		value = -200
	}
	add_ai_strategy = {
		type = alliance
		id = "POL"
		value = -200
	}
	# Finland
	add_ai_strategy = {
		type = protect
		id = "FIN"
		value = -200
	}
	add_ai_strategy = {
		type = ignore
		id = "FIN"
		value = 200
	}
	add_ai_strategy = {
		type = befriend
		id = "FIN"
		value = -200
	}
	add_ai_strategy = {
		type = alliance
		id = "FIN"
		value = -200
	}
	# Estonia
	add_ai_strategy = {
		type = protect
		id = "EST"
		value = -200
	}
	add_ai_strategy = {
		type = ignore
		id = "EST"
		value = 200
	}
	add_ai_strategy = {
		type = befriend
		id = "EST"
		value = -200
	}
	add_ai_strategy = {
		type = alliance
		id = "EST"
		value = -200
	}
	# Latvia
	add_ai_strategy = {
		type = protect
		id = "LAT"
		value = -200
	}
	add_ai_strategy = {
		type = ignore
		id = "LAT"
		value = 200
	}
	add_ai_strategy = {
		type = befriend
		id = "LAT"
		value = -200
	}
	add_ai_strategy = {
		type = alliance
		id = "LAT"
		value = -200
	}
	# Lithuania
	add_ai_strategy = {
		type = protect
		id = "LIT"
		value = -200
	}
	add_ai_strategy = {
		type = ignore
		id = "LIT"
		value = 200
	}
	add_ai_strategy = {
		type = befriend
		id = "LIT"
		value = -200
	}
	add_ai_strategy = {
		type = alliance
		id = "LIT"
		value = -200
	}
	# Romania
	add_ai_strategy = {
		type = protect
		id = "ROM"
		value = -200
	}
	add_ai_strategy = {
		type = ignore
		id = "ROM"
		value = 200
	}
	add_ai_strategy = {
		type = befriend
		id = "ROM"
		value = -200
	}
	add_ai_strategy = {
		type = alliance
		id = "ROM"
		value = -200
	}
	# Norway
	add_ai_strategy = {
		type = ignore
		id = "NOR"
		value = 200
	}
	add_ai_strategy = {
		type = protect
		id = "NOR"
		value = -200
	}
	add_ai_strategy = {
		type = befriend
		id = "NOR"
		value = -200
	}
	add_ai_strategy = {
		type = alliance
		id = "NOR"
		value = -200
	}
	# Sweden
	add_ai_strategy = {
		type = ignore
		id = "SWE"
		value = 200
	}
	add_ai_strategy = {
		type = protect
		id = "SWE"
		value = -200
	}
	add_ai_strategy = {
		type = befriend
		id = "SWE"
		value = -200
	}
	add_ai_strategy = {
		type = alliance
		id = "SWE"
		value = -200
	}
	# Denmark
	add_ai_strategy = {
		type = ignore
		id = "DEN"
		value = 200
	}
	add_ai_strategy = {
		type = protect
		id = "DEN"
		value = -200
	}
	add_ai_strategy = {
		type = befriend
		id = "DEN"
		value = -200
	}
	add_ai_strategy = {
		type = alliance
		id = "DEN"
		value = -200
	}
	# Netherlands
	add_ai_strategy = {
		type = ignore
		id = "HOL"
		value = 200
	}
	add_ai_strategy = {
		type = protect
		id = "HOL"
		value = -200
	}
	add_ai_strategy = {
		type = befriend
		id = "HOL"
		value = -200
	}
	add_ai_strategy = {
		type = alliance
		id = "HOL"
		value = -200
	}
	# Belgium
	add_ai_strategy = {
		type = ignore
		id = "BEL"
		value = 200
	}
	add_ai_strategy = {
		type = protect
		id = "BEL"
		value = -200
	}
	add_ai_strategy = {
		type = befriend
		id = "BEL"
		value = -200
	}
	add_ai_strategy = {
		type = alliance
		id = "BEL"
		value = -200
	}
	# Luxemburg
	add_ai_strategy = {
		type = ignore
		id = "LUX"
		value = 200
	}
	add_ai_strategy = {
		type = protect
		id = "LUX"
		value = -200
	}
	add_ai_strategy = {
		type = befriend
		id = "LUX"
		value = -200
	}
	add_ai_strategy = {
		type = alliance
		id = "LUX"
		value = -200
	}
	# Austria
	add_ai_strategy = {
		type = ignore
		id = "AUS"
		value = 200
	}
	add_ai_strategy = {
		type = protect
		id = "AUX"
		value = -200
	}
	add_ai_strategy = {
		type = befriend
		id = "AUX"
		value = -200
	}
	add_ai_strategy = {
		type = alliance
		id = "AUX"
		value = -200
	}
	# Hungary
	add_ai_strategy = {
		type = ignore
		id = "HUN"
		value = 200
	}
	add_ai_strategy = {
		type = protect
		id = "HUN"
		value = -200
	}
	add_ai_strategy = {
		type = befriend
		id = "HUN"
		value = -200
	}
	add_ai_strategy = {
		type = alliance
		id = "HUN"
		value = -200
	}
	# Czechoslovakia
	add_ai_strategy = {
		type = ignore
		id = "CZE"
		value = 200
	}
	add_ai_strategy = {
		type = protect
		id = "CZE"
		value = -200
	}
	add_ai_strategy = {
		type = befriend
		id = "CZE"
		value = -200
	}
	add_ai_strategy = {
		type = alliance
		id = "CZE"
		value = -200
	}
	# Yugoslavia
	add_ai_strategy = {
		type = ignore
		id = "YUG"
		value = 200
	}
	add_ai_strategy = {
		type = protect
		id = "YUG"
		value = -200
	}
	add_ai_strategy = {
		type = befriend
		id = "YUG"
		value = -200
	}
	add_ai_strategy = {
		type = alliance
		id = "YUG"
		value = -200
	}
}